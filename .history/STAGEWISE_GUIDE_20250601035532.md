# Hướng dẫn sử dụng Stagewise Toolbar

## Giới thiệu

@stagewise/toolbar là một công cụ mạnh mẽ giúp kết nối giao diện người dùng frontend với các AI agent trong code editor như Cursor, GitHub Copilot và Windsurf. Nó cho phép bạn:

- 🧠 Chọn bất kỳ element nào trong web app
- 💬 Để lại comment trực tiếp trên element đó
- 💡 Để AI Agent thực hiện magic
- ⚡ Tiết kiệm thời gian không cần copy/paste đường dẫn file

## Cài đặt đã hoàn thành

✅ Package `@stagewise/toolbar` đã được cài đặt trong `devDependencies`
✅ Toolbar đã được tích hợp vào `app/layout.tsx`
✅ Cấu hình plugin tùy chỉnh cho dự án 3D Model Store

## Cách sử dụng

### 1. Cài đặt VS Code Extension

Trước tiên, bạn cần cài đặt extension Stagewise cho VS Code:

1. Mở VS Code
2. Vào Extensions (Ctrl+Shift+X)
3. Tìm kiếm "stagewise"
4. Cài đặt extension "Stagewise" từ marketplace

Hoặc truy cập trực tiếp: https://marketplace.visualstudio.com/items?itemName=stagewise.stagewise-vscode-extension

### 2. Khởi động Development Server

```bash
pnpm dev
```

Server sẽ chạy tại: http://localhost:3000

### 3. Sử dụng Toolbar

Khi ở chế độ development (`NODE_ENV === 'development'`), toolbar sẽ tự động xuất hiện trên trang web.

#### Các tính năng chính:

1. **Chọn Element**: Click vào bất kỳ element nào trên trang
2. **Comment**: Thêm comment mô tả những gì bạn muốn thay đổi
3. **Send to AI**: Gửi context và comment đến AI agent trong VS Code
4. **Auto Context**: Toolbar tự động gửi thông tin về DOM elements, screenshots và metadata

#### Plugin tùy chỉnh đã cấu hình:

- **Name**: `3d-model-store-plugin`
- **Description**: Plugin hỗ trợ phát triển cửa hàng mô hình 3D
- **Actions**:
  - `Reload Page`: Tải lại trang hiện tại
  - `Toggle Dev Tools`: Hướng dẫn mở Developer Tools
  - `Clear Cache`: Xóa cache của ứng dụng

### 4. Workflow khuyến nghị

1. **Mở VS Code** với dự án
2. **Khởi động dev server**: `pnpm dev`
3. **Mở browser** tại http://localhost:3000
4. **Chọn element** cần chỉnh sửa trên trang
5. **Viết comment** mô tả yêu cầu (ví dụ: "Thay đổi màu button này thành xanh")
6. **Click Send** để gửi đến AI agent
7. **AI sẽ tự động** tìm file tương ứng và thực hiện thay đổi

### 5. Lưu ý quan trọng

⚠️ **Chỉ mở một cửa sổ Cursor/VS Code**: Nếu bạn có nhiều cửa sổ mở, toolbar có thể gửi prompt đến sai cửa sổ.

⚠️ **Chỉ hoạt động ở development mode**: Toolbar chỉ xuất hiện khi `NODE_ENV === 'development'`

### 6. Troubleshooting

#### Toolbar không xuất hiện:
- Kiểm tra `NODE_ENV` có phải là `development`
- Kiểm tra console có lỗi gì không
- Đảm bảo extension VS Code đã được cài đặt

#### Không gửi được prompt:
- Đảm bảo chỉ có một cửa sổ VS Code/Cursor mở
- Kiểm tra extension có đang hoạt động không
- Restart VS Code nếu cần

#### Lỗi build:
- Toolbar chỉ import trong development mode nên không ảnh hưởng đến production build
- Nếu có lỗi, kiểm tra import statement trong `layout.tsx`

## Cấu hình nâng cao

Bạn có thể tùy chỉnh thêm plugin trong `app/layout.tsx`:

```typescript
config={{
  plugins: [
    {
      name: 'custom-plugin',
      description: 'Mô tả plugin',
      shortInfoForPrompt: () => {
        return "Thông tin context cho AI";
      },
      mcp: null,
      actions: [
        {
          name: 'Custom Action',
          description: 'Mô tả action',
          execute: () => {
            // Logic tùy chỉnh
          },
        },
      ],
    },
  ],
}}
```

## Tài liệu tham khảo

- [Stagewise Documentation](https://stagewise.io/docs/quickstart)
- [GitHub Repository](https://github.com/stagewise-io/stagewise)
- [VS Code Extension](https://marketplace.visualstudio.com/items?itemName=stagewise.stagewise-vscode-extension)

## Kết luận

Stagewise Toolbar đã được tích hợp thành công vào dự án 3D Model Store. Bây giờ bạn có thể:

✅ Chọn bất kỳ element nào trên trang web
✅ Comment trực tiếp lên element
✅ Gửi context đến AI agent trong VS Code
✅ Tự động hóa quá trình chỉnh sửa code
✅ Tiết kiệm thời gian development

Hãy thử nghiệm với các element khác nhau trên trang để trải nghiệm sức mạnh của công cụ này!